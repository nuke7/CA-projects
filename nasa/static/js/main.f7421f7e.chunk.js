(this["webpackJsonpclean-start"]=this["webpackJsonpclean-start"]||[]).push([[0],{83:function(e,t,n){},84:function(e,t,n){},98:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(10),i=n.n(r),s=(n(83),n(84),n(22)),l=n(38),o=n.n(l),j=n(56),d=n(11),u=n(68),b=n.n(u),h=n(4),O=Object(a.createContext)(),x=function(e){var t=Object(a.useState)(function(){var e=localStorage.getItem("favs");return null===e||0===e.length?[]:JSON.parse(e)}()),n=Object(d.a)(t,2),c=n[0],r=n[1],i=Object(a.useState)({}),s=Object(d.a)(i,2),l=s[0],o=s[1];return Object(h.jsx)(O.Provider,{value:{value1:[c,r],value2:[l,o]},children:e.children})},g=n(154),f=n(139),p=n(143),m=n(47),v=n.n(m),y=n(69),w=n.n(y),C=n.p+"static/media/Loading1.554c5841.gif",k=Object(f.a)((function(e){return{container:{display:"flex",flexWrap:"wrap"},textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1),width:200}}})),S=function(){var e=k(),t=Object(a.useContext)(O),n=t.value1,c=t.value2,r=Object(d.a)(n,2),i=r[0],l=r[1],u=Object(d.a)(c,2),x=u[0],f=u[1],m=Object(a.useState)(!1),y=Object(d.a)(m,2),S=y[0],I=y[1],D=Object(a.useState)(""),N=Object(d.a)(D,2),F=N[0],L=N[1],E=function(){localStorage.setItem("favs",JSON.stringify(i))};Object(a.useEffect)((function(){E()}),[i]);var A=function(){var e=Object(j.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(t),!t){e.next=22;break}return I(!0),e.next=5,fetch("https://api.nasa.gov/planetary/apod?api_key=M61W8ZfNGqjP4EzFr49ctgGmgqnjtR5zIf22qVWD&date=".concat(t));case 5:if(n=e.sent,console.log(n.status),200!==n.status){e.next=16;break}return e.t0=f,e.next=11,n.json();case 11:e.t1=e.sent,(0,e.t0)(e.t1),I(!1),e.next=22;break;case 16:return e.t2=f,e.next=19,n.json();case 19:e.t3=e.sent,(0,e.t2)(e.t3),I(!1);case 22:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){(function(){var e=Object(j.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t="".concat((new Date).getFullYear(),"-").concat((new Date).getMonth()+1,"-").concat(parseInt((new Date).getDate())-1),L(t),console.log(t),A(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(h.jsxs)("div",{children:[Object(h.jsxs)("div",{style:{margin:"1rem"},children:[Object(h.jsx)(g.a,{required:!0,value:F,onChange:function(e){return L(e.target.value)},onBlur:function(e){return L(e.target.value)},id:"date",label:"Choose a Date",type:"date",className:e.textField,InputLabelProps:{shrink:!0}}),Object(h.jsx)(p.a,{style:{margin:"1rem"},onClick:function(){"%Y-%m-%d"!==F&&(A(F),L("%Y-%m-%d")),"%Y-%m-%d"===F&&alert("search date must be completed")},variant:"outlined",endIcon:Object(h.jsx)(w.a,{}),children:"Search"})]}),S?Object(h.jsx)("img",{src:C,alt:"Loading ..."}):x.url?Object(h.jsx)(b.a,{top:!0,children:Object(h.jsxs)("div",{style:{margin:"1rem"},children:[x.title?Object(h.jsx)("h3",{children:x.title}):Object(h.jsx)("h4",{children:"No title"}),"image"===x.media_type?Object(h.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(h.jsx)("a",{href:x.hdurl,target:"_blank",rel:"noreferrer",children:Object(h.jsx)("img",{style:{width:"70vh",height:"auto"},src:x.url,alt:"nasa search img result is here"})}),Object(h.jsx)(p.a,{style:{margin:"1rem auto"},disabled:0!==i.length&&i.some((function(e){return e.date===x.date})),onClick:function(){l((function(e){return[].concat(Object(s.a)(e),[x])})),console.log(x),E()},variant:"outlined",endIcon:Object(h.jsx)(v.a,{}),children:"Add to Gallery"})]}):"video"===x.media_type?Object(h.jsx)("iframe",{width:"85%",height:"360px",title:"NASA video",src:x.url}):"we don't know what this is...",Object(h.jsx)("h4",{children:"Explanation"}),Object(h.jsx)("p",{style:{margin:"1rem auto"},children:x.explanation}),Object(h.jsx)("p",{style:{margin:"1rem auto 2rem auto"},children:Object(h.jsxs)("em",{children:["Date taken: ",x.date]})})]})}):Object(h.jsx)("p",{children:x.msg})]})},I=n(37),D=n(12),N=n(100),F=n(144),L=n(70),E=n.n(L),A=Object(f.a)({root:{flexGrow:1,maxWidth:"1280px",margin:"auto",display:"flex",justifyContent:"space-around"}});function R(){var e=A();return Object(h.jsxs)(N.a,{square:!0,className:e.root,children:[Object(h.jsx)(I.b,{to:"/",children:Object(h.jsx)(F.a,{icon:Object(h.jsx)(E.a,{}),label:"SEARCH"})}),Object(h.jsx)(I.b,{to:"/gallery",children:Object(h.jsx)(F.a,{icon:Object(h.jsx)(v.a,{}),label:"GALLERY"})})]})}var q=n(149),G=n(150),J=n(153),P=n(152),T=n(151),W=n(73),Y=n(71),_=n.n(Y),z=n(156),B=n(148),M=n(146),H=n(147),V=n(145),Z=function(e){var t=Object(a.useState)(e.open),n=Object(d.a)(t,2),c=(n[0],n[1]),r=Object(a.useContext)(O),i=r.value1,s=(r.value2,Object(d.a)(i,2)),l=s[0];s[1];return Object(h.jsx)("div",{children:Object(h.jsxs)(z.a,{open:e.open,onClose:function(){c(!1)},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(h.jsx)(V.a,{id:"alert-dialog-title",children:l[e.id].title}),Object(h.jsxs)(M.a,{children:[Object(h.jsxs)(H.a,{id:"alert-dialog-description",style:{width:"90%",margin:"1rem auto"},children:[l[e.id].explanation,Object(h.jsx)("p",{children:Object(h.jsxs)("em",{children:["Date taken: ",l[e.id].date]})}),l[e.id].copyright&&Object(h.jsxs)("strong",{children:["Copyright: ",l[e.id].copyright]})]}),Object(h.jsx)("img",{style:{width:"100%",height:"auto"},src:l[e.id].url,alt:"nasa search img result is here"})]}),Object(h.jsx)(B.a,{children:Object(h.jsx)(p.a,{onClick:function(){return e.setOpen()},color:"secondary",variant:"outlined",autoFocus:!0,children:"Close"})})]})})},K=Object(f.a)({root:{width:360,display:"flex",flexDirection:"column",justifyContent:"space-between",alignItems:"center",margin:"1rem",height:"90%"}}),Q=function(e){var t=K(),n=Object(a.useContext)(O),c=n.value1,r=(n.value2,Object(d.a)(c,2)),i=r[0],s=r[1],l=Object(a.useState)(!1),o=Object(d.a)(l,2),j=o[0],u=o[1],b=Object(a.useState)(0),x=Object(d.a)(b,2),g=x[0],f=x[1];return 0!==i.lenght?Object(h.jsx)("div",{style:{display:"flex",flexWrap:"wrap",justifyContent:"center",width:"100%",margin:"auto"},children:i.map((function(e,n){return Object(h.jsx)(_.a,{children:Object(h.jsxs)(q.a,{className:t.root,variant:"outlined",children:[Object(h.jsxs)(G.a,{onClick:function(){return window.open("".concat(e.hdurl),"_blank")},children:[Object(h.jsx)(T.a,{component:"img",alt:"Contemplative Reptile",height:"140",image:e.url,title:e.title}),Object(h.jsx)(P.a,{children:Object(h.jsx)(W.a,{gutterBottom:!0,variant:"h5",component:"h2",children:e.title})})]}),Object(h.jsxs)(J.a,{children:[Object(h.jsx)(p.a,{id:n,size:"small",variant:"outlined",onClick:function(e){u(!0),f(e.currentTarget.id)},children:"Learn More"}),Object(h.jsx)(p.a,{id:n,size:"small",color:"secondary",variant:"outlined",onClick:function(e){localStorage.setItem("favs",JSON.stringify(i.filter((function(t){return t.date!==i[e.currentTarget.id].date})))),s((function(){return i.filter((function(t){return t.date!==i[e.currentTarget.id].date}))})),console.log(i)},children:"Remove"})]}),Object(h.jsx)(Z,{open:j,id:g,setOpen:function(){return u(!j)}})]})},n)}))}):Object(h.jsxs)("div",{children:[Object(h.jsx)("h5",{children:"no items in the gallery yet."})," ",Object(h.jsx)("p",{children:"search for something and add it to the gallery"})]})};var U=function(){return Object(h.jsx)(x,{children:Object(h.jsx)(I.a,{children:Object(h.jsxs)("div",{className:"App",children:[Object(h.jsxs)(D.a,{exact:!0,path:"/",children:[Object(h.jsx)(R,{}),Object(h.jsx)(S,{})]}),Object(h.jsxs)(D.a,{path:"/gallery",children:[Object(h.jsx)(R,{}),Object(h.jsx)(Q,{})]})]})})})},X=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,158)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),r(e),i(e)}))};i.a.render(Object(h.jsx)(c.a.StrictMode,{children:Object(h.jsx)(U,{})}),document.getElementById("root")),X()}},[[98,1,2]]]);
//# sourceMappingURL=main.f7421f7e.chunk.js.map